"use strict";(self.webpackChunkActividades=self.webpackChunkActividades||[]).push([[635],{3173:(e,a,s)=>{s.d(a,{A:()=>t});s(5043);var n=s(579);const t=function(e){let{children:a}=e;return(0,n.jsx)("div",{className:"div-sort",children:a})}},365:(e,a,s)=>{s.d(a,{A:()=>t});s(5043);var n=s(579);const t=function(e){let{children:a}=e;return(0,n.jsx)("div",{className:"div-header",children:a})}},6525:(e,a,s)=>{s.d(a,{A:()=>t});s(5043);var n=s(579);const t=function(e){let{children:a}=e;return(0,n.jsx)("div",{className:"div-search",children:a})}},5391:(e,a,s)=>{s.d(a,{A:()=>r});var n=s(5043),t=s(579);const r=function(e){let{children:a}=e;const[s,r]=(0,n.useState)(!1);return setTimeout((()=>{s&&r(!s)}),1e4),(0,t.jsxs)("div",{className:"drop-down",children:[(0,t.jsx)("div",{className:"".concat(s?" open-sort ":"close-sort"),children:(0,t.jsx)("div",{className:"menu-sort",children:a})}),(0,t.jsxs)("div",{className:"div-button-sort btn-secondary-outline",onClick:()=>r(!s),children:[(0,t.jsx)("span",{children:"Ordenar "})," ",(0,t.jsx)("i",{className:"bx bx-sort-z-a"})]})]})}},4563:(e,a,s)=>{s.d(a,{A:()=>t});s(5043);var n=s(579);const t=function(e){let{title:a,column:s,onClick:t}=e;return(0,n.jsx)("span",{onClick:()=>t(s),children:a})}},4156:(e,a,s)=>{s.d(a,{A:()=>t});s(5043);var n=s(579);const t=function(e){let{value:a,onChange:s}=e;return(0,n.jsxs)("div",{className:"div-input-search",children:[(0,n.jsx)("i",{className:"bx bx-search icon-search"}),(0,n.jsx)("input",{type:"search",className:"input-search",value:a,onChange:s})]})}},220:(e,a,s)=>{s.d(a,{A:()=>t});s(5043);var n=s(579);const t=function(e){let{tabActive:a,onClick:s,nameTab:t,value:r}=e;return(0,n.jsx)("span",{className:"".concat(a===r?"tab-active":""),onClick:()=>s(r),children:t})}},2489:(e,a,s)=>{s.d(a,{A:()=>t});s(5043);var n=s(579);const t=function(e){let{children:a}=e;return(0,n.jsx)("div",{className:"div-tabs",children:a})}},1635:(e,a,s)=>{s.r(a),s.d(a,{default:()=>w});var n=s(5043),t=(s(3657),s(5472)),r=s(1579),c=s(2200),o=s(2489),i=s(220),l=s(5391),d=s(4563),u=s(579);const h=function(e){let{children:a}=e;return(0,u.jsx)("div",{className:"container-data",children:a})};var m=s(6525),x=s(4156),j=s(365),v=s(9784),p=s(3173),b=s(5116),g=s(4646);const f=function(e){let{item:a,children:s,onClick:n}=e;const t=(0,b.y)(a.fecha),r=e=>void 0!==e?e:"No asignado";return(0,u.jsxs)("div",{className:"card",children:[(0,u.jsxs)("div",{className:"div-fecha",children:[(0,u.jsx)("span",{children:t.dayName}),(0,u.jsx)("span",{className:"span-fecha",children:t.day}),(0,u.jsx)("span",{children:t.monthName}),(0,u.jsx)("span",{children:t.year})]}),(0,u.jsxs)("div",{className:"card-body",children:[(0,u.jsx)("div",{className:"card-header",children:(0,u.jsx)("span",{children:a.nombre})}),(0,u.jsxs)("div",{className:"card-info",children:[(0,u.jsx)("span",{children:"Lugar y Hora:"}),(0,u.jsx)("span",{children:a.lugar}),(0,u.jsx)("span",{children:"".concat(a.hora," Hrs")}),(0,u.jsx)("span",{className:"btn-group",children:"Delegado: ".concat(r(a.delegados))}),(0,u.jsx)("span",{className:"btn-group",onClick:()=>n("Lectores",!0,a.lectores),children:"Lectores: ".concat(r(a.lectores))}),(0,u.jsx)("span",{className:"btn-group",onClick:()=>n("Ministros",!0,a.ministros),children:"Ministros: ".concat(r(a.ministros))}),(0,u.jsx)("span",{className:"btn-group",onClick:()=>n("Monaguillos",!0,a.monaguillos),children:"Monaguillos: ".concat(r(a.monaguillos)," ")}),(0,u.jsx)("span",{className:"btn-group",children:"Coros: ".concat(r(a.coros))}),(0,u.jsx)("span",{className:"label-observacion",children:"Obs.: ".concat(a.estado)}),(0,u.jsx)("span",{className:"intervalDay",children:(0,g.s)(a.fecha,a.hora)})]}),(0,u.jsx)("div",{className:"card-footer",children:s})]})]})};const N=function(e){let{show:a,setShow:s,onSubmit:n,children:t,title:r}=e;return(0,u.jsx)("div",{className:"".concat(a?"modal show-modal":"modal"),children:(0,u.jsx)("div",{className:"modal-container",children:(0,u.jsxs)("form",{onSubmit:n,className:"modal-content",autoComplete:"off",children:[(0,u.jsxs)("div",{className:"modal-header",children:[(0,u.jsx)("span",{children:r}),(0,u.jsx)("span",{children:(0,u.jsx)("i",{className:"bx bx-x",onClick:()=>s(!a)})})]}),(0,u.jsx)("div",{className:"modal-body body-detail",children:t}),(0,u.jsx)("div",{className:"modal-footer",children:(0,u.jsx)("button",{className:"btn-secondary-outline",onClick:()=>s(!a),children:"Salir"})})]})})})};const w=function(){(0,t.aU)();const[e,a]=(0,n.useState)(!1),[s,b]=(0,n.useState)(""),[g,w]=(0,n.useState)([]),[y,C]=(0,n.useState)([]),[A,k]=(0,n.useState)([]),[S,D]=(0,n.useState)([]),[M,L]=(0,n.useState)([]),[F,E]=(0,n.useState)([]),[I,T]=(0,n.useState)(!1),[V,H]=(0,n.useState)("");(0,n.useEffect)((()=>{G(),J(),z(),O()}),[]);const G=async()=>{let e=await v.A.ViewData("Turnos");if(e.length>0)return w((0,r.F)(e,"fecha",!0)),void C((0,r.F)(e,"fecha",!0));w([]),C([])},J=async()=>{let e=await v.A.ViewData("Grupos");console.log(e),e.length>0?k(e):k([])},z=async()=>{let e=await v.A.ViewData("GrupoMinistro");console.log(e),e.length>0?D(e):D([])},O=async()=>{let e=await v.A.ViewData("GrupoMonaguillos");console.log(e),e.length>0?L(e):L([])},U=e=>{w((0,r.F)(y,e,I)),T(!I)},Z=(e,s,n)=>{if(void 0!==n){let t=B(e,n);E(t),a(s)}},B=(e,a)=>{switch(console.log(e,a),e){case"Lectores":let e=[];return A.forEach((s=>{s.nombre.toLowerCase()===a.toLowerCase()&&(console.log(s),e=s.integrantres.split(","))})),e;case"Ministros":let s=[];return S.forEach((e=>{console.log(e),e.nombre.toLowerCase()===a.toLowerCase()&&(s=e.integrantres.split(","))})),s;case"Monaguillos":let n=[];return M.forEach((e=>{console.log(e),e.nombre.toLowerCase()===a.toLowerCase()&&(n=e.integrantres.split(","))})),n}return[]};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(j.A,{children:[(0,u.jsx)(m.A,{children:(0,u.jsx)(x.A,{value:V,onChange:e=>{H(e.target.value),w((0,c.C)(y,e.target.value))}})}),(0,u.jsx)(o.A,{children:(0,u.jsx)(i.A,{nameTab:"Todo",tabActive:s,value:"",onClick:e=>{b(e),w((0,c.C)(y,e))}})}),(0,u.jsx)(p.A,{children:(0,u.jsxs)(l.A,{children:[(0,u.jsx)(d.A,{title:"Nombre",column:"nombre",onClick:U}),(0,u.jsx)(d.A,{title:"Fecha",column:"fecha",onClick:U}),(0,u.jsx)(d.A,{title:"Lugar",column:"lugar",onClick:U})]})})]}),(0,u.jsx)(h,{children:g.length>0?g.map(((e,a)=>(0,u.jsx)(f,{item:e,onClick:Z},a))):null}),(0,u.jsx)(N,{setShow:a,show:e,onSubmit:e=>{e.preventDefault()},title:"Integrantes del grupo",children:F.length>0?F.map(((e,a)=>(0,u.jsx)("label",{children:e},a))):null})]})}},9784:(e,a,s)=>{s.d(a,{A:()=>r});s(3657);var n=s(5472);const t=(0,n.aU)();const r=new class{async InsertNew(e,a){try{await(0,n.gS)((0,n.rJ)(t,a),e);return!0}catch(s){return console.log(s),!1}}async UpdateItem(e,a,s){try{const r=(0,n.H9)(t,a,s);(0,n.mZ)(r,e);return!0}catch(r){return!1}}async ViewData(e){try{let a=await(0,n.GG)((0,n.rJ)(t,e)),s=[];return a.forEach((e=>{s.push({id:e.id,...e.data()})})),s.length>0?s:[]}catch(a){return console.log(a),[]}}ViewDataById(){}async DeleteData(e,a){try{const s=(0,n.H9)(t,e,a);return await(0,n.kd)(s),!0}catch(s){return console.log(s),!1}}}},3657:(e,a,s)=>{(0,s(7064).Wp)({apiKey:"AIzaSyCiTmgu6Hw4ncfAXYqzmbxpt7_Z1ZET19s",authDomain:"actividad-e5368.firebaseapp.com",projectId:"actividad-e5368",storageBucket:"actividad-e5368.appspot.com",messagingSenderId:"881958514837",appId:"1:881958514837:web:e485c52ee80fa5cfdfeb9c"})},4646:(e,a,s)=>{s.d(a,{s:()=>r});var n=s(6178),t=s.n(n);const r=(e,a)=>{let s=e+" "+a+":00",n=Number(t()(new Date(s)).diff(t()(new Date),"minutes")).toFixed(2),r=Math.sign(Number(n)),o=Math.abs(Math.round(Number(n))),i=0,l=0,d=0;for(;Number(o)>=60;)Number(o)>=1440?(i++,o=Number(o)-1440):Number(o)>=60&&(l++,o=Number(o)-60);return d+=o,1===r||0===r?"Entre: ".concat(c(i,l,d),"  "):"Hace: ".concat(c(i,l,d))};function c(e,a,s){return e>0?e>1?e+" dias":e+" dia":a>0?a>1?a+" hrs":a+" hr":s>0?s>1?s+" mins":s+" min":void 0}},5116:(e,a,s)=>{s.d(a,{y:()=>n});const n=e=>{let a=new Date(e);return{day:e.split("-")[2],dayName:t(a.getDay()),monthName:r(a.getMonth()),year:a.getFullYear().toString()}};function t(e){return["Lunes","Martes","Miercoles","Jueves","Viernes","Sabado","Domingo"][e]}function r(e){return["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][e]}},2200:(e,a,s)=>{function n(e,a){return e.filter((e=>Object.keys(e).some((s=>{const n=e[s];return"string"===typeof n&&n.toLowerCase().includes(a.toLowerCase())}))))}s.d(a,{C:()=>n})},1579:(e,a,s)=>{function n(e,a,s){if(s){return e.sort(((e,s)=>e[a]>s[a]?1:-1))}return e.sort(((e,s)=>e[a]<s[a]?1:-1))}s.d(a,{F:()=>n})}}]);
//# sourceMappingURL=635.10b7e84e.chunk.js.map